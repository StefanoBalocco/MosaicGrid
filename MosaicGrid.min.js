class t{t;i;o;h;p=!1;constructor(t,s){this.i=window.getComputedStyle(t),this.t=t,this.o=s,this.h=()=>{this.p||(this.p=!0,requestAnimationFrame(()=>{this.p&&(this.ResizeItems(),this.p=!1)}))},window.addEventListener("resize",this.h),this.ResizeItems()}Destroy(){window.removeEventListener("resize",this.h),this.p=!1}get l(){return parseFloat(this.i.getPropertyValue("grid-auto-rows"))||0}get m(){return parseFloat(this.i.getPropertyValue("grid-row-gap"))||0}ResizeItem(t,s,i){const e=i.querySelectorAll("img");if(0<e.length){const t=e.length;for(let s=0;s<t;s++)e[s].complete||(e[s].onload=e[s].onerror=()=>{this.ResizeItem(this.l,this.m,i)})}if(0<t+s){const e=i.querySelectorAll(":scope > div");if(1===e.length){const o=window.getComputedStyle(i),r=(parseFloat(o.getPropertyValue("border-top-width"))||0)+(parseFloat(o.getPropertyValue("border-bottom-width"))||0)+(parseFloat(o.getPropertyValue("margin-top"))||0)+(parseFloat(o.getPropertyValue("margin-bottom"))||0)+(parseFloat(o.getPropertyValue("padding-top"))||0)+(parseFloat(o.getPropertyValue("padding-bottom"))||0)+e[0].getBoundingClientRect().height;i.style.gridRowEnd=1===t&&0===s?"span "+Math.floor(r+s):"span "+Math.ceil((r+s)/(t+s))}}}u(t,s=!0){s=s||!(0<this.t.childNodes.length);const i=this.l,e=this.m,o=t.length;for(let r=o;r>0;r--){const h=t[r-1];if(s){const t=o-r;t?this.t.childNodes[this.t.childNodes.length-t].before(h):this.t.append(h)}else this.t.firstChild.before(h);this.ResizeItem(i,e,h)}}ResizeItems(){const t=this.t.querySelectorAll("."+this.o),s=this.l,i=this.m,e=t.length;for(let o=0;o<e;o++)this.ResizeItem(s,i,t[o])}AppendItems(t){this.u(t)}PrependItems(t){this.u(t,!1)}}export default function s(s,i){let e;const o=document.getElementById(s);return o&&(e=new t(o,i)),e}