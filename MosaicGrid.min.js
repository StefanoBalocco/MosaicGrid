"use strict";var MosaicGrid;!function(t){class s{constructor(t,s){this.t=t,this.s=s,this.i=()=>{this.ResizeItems()},window.addEventListener("resize",this.i),this.ResizeItems()}Destroy(){window.removeEventListener("resize",this.i),delete this.t}ResizeItem(t,s,i){const o=i.getElementsByTagName("img");if(0<o.length){const e=o.length;for(let r=0;r<e;r++)if(!o[r].complete){new Promise(t=>{o[r].onload=()=>{t(i)},o[r].onerror=()=>{t(i)},o[r].complete&&t(i)}).then(i=>{this.ResizeItem(t,s,i)}).catch(()=>{})}}if(0<t+s){const o=i.querySelectorAll(":scope > div");if(o&&1===o.length){const e=window.getComputedStyle(i);let r=(parseFloat(e.getPropertyValue("border-top-width"))||0)+(parseFloat(e.getPropertyValue("border-bottom-width"))||0)+(parseFloat(e.getPropertyValue("margin-top"))||0)+(parseFloat(e.getPropertyValue("margin-bottom"))||0)+(parseFloat(e.getPropertyValue("padding-top"))||0)+(parseFloat(e.getPropertyValue("padding-bottom"))||0)+o[0].getBoundingClientRect().height;i.style.gridRowEnd=1===t&&0===s?"span "+Math.floor(r+s):"span "+Math.ceil((r+s)/(t+s))}}}ResizeItems(){if(this.t){const t=this.t.getElementsByClassName(this.s),s=window.getComputedStyle(this.t),i=parseFloat(s.getPropertyValue("grid-auto-rows"))||0,o=parseFloat(s.getPropertyValue("grid-row-gap"))||0,e=t.length;for(let s=0;s<e;s++){const e=t[s];this.ResizeItem(i,o,e)}}}AppendItems(t){if(this.t){const s=window.getComputedStyle(this.t),i=parseFloat(s.getPropertyValue("grid-auto-rows"))||0,o=parseFloat(s.getPropertyValue("grid-row-gap"))||0,e=t.length;for(let s=0;s<e;s++){const e=this.t.appendChild(t[s]);this.ResizeItem(i,o,e)}}}PrependItems(t){if(this.t)if(0<this.t.childNodes.length){const s=window.getComputedStyle(this.t),i=parseFloat(s.getPropertyValue("grid-auto-rows"))||0,o=parseFloat(s.getPropertyValue("grid-row-gap"))||0,e=t.length;for(let s=0;s<e;s++){const e=this.t.insertBefore(t[s],this.t.childNodes[0]);this.ResizeItem(i,o,e)}}else this.AppendItems(t)}}t.Create=function(t,i){let o=null;const e=document.getElementById(t);return e&&(o=new s(e,i)),o}}(MosaicGrid||(MosaicGrid={}));